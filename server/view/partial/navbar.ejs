<style>
	* { font-family: 'Open Sans', Arial, Helvetica, sans-serif; }

	.navbar {
		width: 100%;
		background-color: var(--primary-color, #555);
		overflow: auto;
		box-shadow: 0px 2px 5px -3px #000000;
	}

	.navbar a {
		float: left;
		padding: 0.75rem;
		color: white;
		text-decoration: none;
		font-size: 1rem;
		text-transform: uppercase;
    	letter-spacing: 1.1px;
	}

	.navbar a:hover {
		background-color: var(--color-primary-darker, #3b3b3b);
	}

	.navbar a.active {
		background-color: var(--accent-color, #04AA6D);
		color: var(--color-primary-darkest, #3b3b3b);
		font-weight: bold;
	}

	@media screen and (max-width: 500px) {
		.navbar a {
			float: none;
			display: block;
		}
	}
</style>

<nav class="navbar">
	<a href="/<%= version %>/feeds">Feeds</a> 
	<a href="/<%= version %>/explore">Explore</a>
	<a href="/<%= version %>/create">Create</a>
	<a href="/<%= version %>/sign-in">Sign In</a>
</nav>
<script>
	(() => {
		const path = window.location.pathname;
		const links = Array
			.from(document.querySelectorAll('.navbar a'))
			.sort((a, b) => { 
				if (a.pathname.length < b.pathname.length) { return 1 }
				if (a.pathname.length == b.pathname.length && a.pathname > b.pathname) { return 1 }
				return -1;
			});

		links.forEach(link => link.addEventListener('click', (e) => {
			links.forEach(link => link.classList.remove('active'));
			link.classList.add('active');
			const main = document.querySelector('main');
			if (main) { main.classList.add('fade-out'); }
		}));

		for (let link of links) {
			if (path.includes(link.pathname)) {
				link.classList.add('active');
				return;
			}
		}
		document
			.querySelector('.navbar a')
			.classList
			.add('active');
	})();
</script>
